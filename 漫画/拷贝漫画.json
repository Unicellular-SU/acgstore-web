{"sid":"123ac800-abad-4e72-a17d-053fcfc8ff07","name":"拷贝漫画","logo":"https://s1.ax1x.com/2020/06/17/NATDeA.png","info":"网友推荐，日漫为主。为大家提供不插眼、不缺页的良好阅读体验。 但由于游离在域外，难免网络速度会有影响。也请大家支持拷贝漫画，建议捐赠或点击拷贝漫画网站上的广告，让拷贝漫画更长久啊","baseUrl":"#pref￥线路地址￥https://copymanga.site/","type":1,"grade":7,"needProxy":0,"encode":"utf-8","userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1","imgMode":2,"engine":21,"headers":{"authority":"api.copymanga.info","platform":"1","referer":"copymanga.site","region":"0","webp":"0"},"author":{"name":"静静","info":"也请大家支持拷贝漫画，建议捐赠或点击拷贝漫画网站上的广告，让拷贝漫画更长久啊","contact":"1077674403"},"prefs":[{"key":"线路地址","value":"","defaultValue":"https://copymanga.site/"}],"version":"1.0.6","script":{"requires":[{"lib":"cheerio","url":""}],"code":"ZnVuY3Rpb24gZ2V0SG9zdCgpIHsKICAgIHZhciBob3N0ID0gcHJlZi5nZXQoJ+e6v+i3r+WcsOWdgCcpOwogICAgaWYgKCFob3N0KSB7CiAgICAgICAgaG9zdCA9ICdjb3B5bWFuZ2Euc2l0ZSc7CiAgICB9CiAgICByZXR1cm4gaG9zdDsKfQoKZnVuY3Rpb24gaG9tZV9idWlsZF91cmwodXJsLCBwYWdlKSB7CiAgICBsZXQgaG9zdCA9IGdldEhvc3QoKTsKICAgIHJldHVybiBgaHR0cHM6Ly9hcGkuJHtob3N0fS9hcGkvdjMvcmFua3M/dHlwZT0xJmRhdGVfdHlwZT1kYXkmb2Zmc2V0PWAgKyAocGFnZSAqIDIxKSArICImbGltaXQ9MjEmX3VwZGF0ZT10cnVlIjsKfQpmdW5jdGlvbiBzZWFyY2hfYnVpbGRfdXJsKHVybCwgcGFnZSwga2V5KSB7CiAgICBsZXQgaG9zdCA9IGdldEhvc3QoKTsKICAgIHJldHVybiBgaHR0cHM6Ly9hcGkuJHtob3N0fS9hcGkvdjMvc2VhcmNoL2NvbWljP3BsYXRmb3JtPTEmcT1gICsgZW5jb2RlVVJJKGtleSkgKyAiJmxpbWl0PTIwJm9mZnNldD0iICsgKHBhZ2UgKiAyMCkgKyAiJl91cGRhdGU9dHJ1ZSI7Cn0KZnVuY3Rpb24gdGFnX2J1aWxkX3VybCh1cmwsIHBhZ2UsIGtleSkgewogICAgbGV0IGhvc3QgPSBnZXRIb3N0KCk7CiAgICB2YXIgb2Zmc2V0ID0gcGFnZSAqIDIxOwogICAgdmFyIHByZWZpeCA9IGBodHRwczovL2FwaS4ke2hvc3R9L2FwaS92My9jb21pY3M/ZnJlZV90eXBlPTEmbGltaXQ9MjEmb2Zmc2V0PWAgKyBvZmZzZXQ7CiAgICBzd2l0Y2ggKGtleSkgewogICAgICAgIGNhc2UgIuacgOi/keabtOaWsCI6CiAgICAgICAgICAgIHJldHVybiBwcmVmaXggKyAiJm9yZGVyaW5nPS1kYXRldGltZV91cGRhdGVkJl91cGRhdGU9dHJ1ZSI7CiAgICAgICAgY2FzZSAi54ix5oOFIjoKICAgICAgICAgICAgcmV0dXJuIHByZWZpeCArICImdGhlbWU9YWlxaW5nJm9yZGVyaW5nPS1kYXRldGltZV91cGRhdGVkJl91cGRhdGU9dHJ1ZSI7CiAgICAgICAgY2FzZSAi5qyi5LmQ5ZCRIjoKICAgICAgICAgICAgcmV0dXJuIHByZWZpeCArICImdGhlbWU9aHVhbmxleGlhbmcmb3JkZXJpbmc9LWRhdGV0aW1lX3VwZGF0ZWQmX3VwZGF0ZT10cnVlIjsKICAgICAgICBjYXNlICLlhpLpmakiOgogICAgICAgICAgICByZXR1cm4gcHJlZml4ICsgIiZ0aGVtZT1tYW94aWFuJm9yZGVyaW5nPS1kYXRldGltZV91cGRhdGVkJl91cGRhdGU9dHJ1ZSI7CiAgICAgICAgY2FzZSAi5Lic5pa5IjoKICAgICAgICAgICAgcmV0dXJuIHByZWZpeCArICImdGhlbWU9ZG9uZ2Zhbmcmb3JkZXJpbmc9LWRhdGV0aW1lX3VwZGF0ZWQmX3VwZGF0ZT10cnVlIjsKICAgICAgICBjYXNlICLnmb7lkIgiOgogICAgICAgICAgICByZXR1cm4gcHJlZml4ICsgIiZ0aGVtZT1iYWloZSZvcmRlcmluZz0tZGF0ZXRpbWVfdXBkYXRlZCZfdXBkYXRlPXRydWUiOwogICAgICAgIGNhc2UgIuagoeWbrSI6CiAgICAgICAgICAgIHJldHVybiBwcmVmaXggKyAiJnRoZW1lPXhpYW95dWFuJm9yZGVyaW5nPS1kYXRldGltZV91cGRhdGVkJl91cGRhdGU9dHJ1ZSI7CiAgICAgICAgY2FzZSAi5aWH5bm7IjoKICAgICAgICAgICAgcmV0dXJuIHByZWZpeCArICImdGhlbWU9cWlodWFuJm9yZGVyaW5nPS1kYXRldGltZV91cGRhdGVkJl91cGRhdGU9dHJ1ZSI7CiAgICAgICAgY2FzZSAi56eR5bm7IjoKICAgICAgICAgICAgcmV0dXJuIHByZWZpeCArICImdGhlbWU9a2VodWFuJm9yZGVyaW5nPS1kYXRldGltZV91cGRhdGVkJl91cGRhdGU9dHJ1ZSI7CiAgICAgICAgY2FzZSAi55Sf5rS7IjoKICAgICAgICAgICAgcmV0dXJuIHByZWZpeCArICImdGhlbWU9c2hlbmdodW8mb3JkZXJpbmc9LWRhdGV0aW1lX3VwZGF0ZWQmX3VwZGF0ZT10cnVlIjsKICAgICAgICBjYXNlICLnpZ7prLwiOgogICAgICAgICAgICByZXR1cm4gcHJlZml4ICsgIiZ0aGVtZT1zaGVuZ3VpJm9yZGVyaW5nPS1kYXRldGltZV91cGRhdGVkJl91cGRhdGU9dHJ1ZSI7CiAgICB9Cn0KCmZ1bmN0aW9uIGhvbWVfcGFyc2UodXJsLCBodG1sKSB7CiAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UoaHRtbCk7IAogICAgbGV0IGhvc3QgPSBnZXRIb3N0KCk7CiAgICBpZiAoZGF0YSAmJiBkYXRhLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgdmFyIGxpc3QgPSBkYXRhLnJlc3VsdHMubGlzdC5tYXAoKGNvbWljKSA9PiB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICB0aXRsZTogY29taWMuY29taWMubmFtZSwKICAgICAgICAgICAgICAgIGNvdmVyOiBjb21pYy5jb21pYy5jb3ZlciwKICAgICAgICAgICAgICAgIGxpbms6IGBodHRwczovL2FwaS4ke2hvc3R9L2FwaS92My9jb21pYzIvYCArIGNvbWljLmNvbWljLnBhdGhfd29yZCArICc/cGxhdGZvcm09MScsCiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkobGlzdCk7CiAgICB9IGVsc2UgewogICAgICAgIHRocm93ICfmlbDmja7ojrflj5blpLHotKUnOwogICAgfQp9CgpmdW5jdGlvbiBzZWFyY2hfcGFyc2UodXJsLCBodG1sKSB7CiAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UoaHRtbCk7CiAgICBsZXQgaG9zdCA9IGdldEhvc3QoKTsKICAgIGlmIChkYXRhICYmIGRhdGEuY29kZSA9PSAyMDApIHsKICAgICAgICB2YXIgbGlzdCA9IGRhdGEucmVzdWx0cy5saXN0Lm1hcCgoY29taWMpID0+IHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHRpdGxlOiBjb21pYy5uYW1lLAogICAgICAgICAgICAgICAgY292ZXI6IGNvbWljLmNvdmVyLAogICAgICAgICAgICAgICAgbGluazogYGh0dHBzOi8vYXBpLiR7aG9zdH0vYXBpL3YzL2NvbWljMi9gICsgY29taWMucGF0aF93b3JkICsgJz9wbGF0Zm9ybT0xJywKICAgICAgICAgICAgICAgIGluZm86ICfljp/lkI3vvJonICsgY29taWMub3JpZ19uYW1lICsgJ1xuJyArICfnirbmgIHvvJonICsgY29taWMuc3RhdHVzCiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkobGlzdCk7CiAgICB9IGVsc2UgewogICAgICAgIHRocm93ICfmlbDmja7ojrflj5blpLHotKUnOwogICAgfQp9CgpmdW5jdGlvbiB0YWdfcGFyc2UodXJsLCBodG1sKSB7CiAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UoaHRtbCk7CiAgICBsZXQgaG9zdCA9IGdldEhvc3QoKTsKICAgIGlmIChkYXRhICYmIGRhdGEuY29kZSA9PSAyMDApIHsKICAgICAgICB2YXIgbGlzdCA9IGRhdGEucmVzdWx0cy5saXN0Lm1hcCgoY29taWMpID0+IHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHRpdGxlOiBjb21pYy5uYW1lLAogICAgICAgICAgICAgICAgY292ZXI6IGNvbWljLmNvdmVyLAogICAgICAgICAgICAgICAgbGluazogYGh0dHBzOi8vYXBpLiR7aG9zdH0vYXBpL3YzL2NvbWljMi9gICsgY29taWMucGF0aF93b3JkICsgJz9wbGF0Zm9ybT0xJywKICAgICAgICAgICAgICAgIGluZm86ICfmm7TmlrDml7bpl7QnICsgY29taWMuZGF0ZXRpbWVfdXBkYXRlZCAKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShsaXN0KTsKICAgIH0gZWxzZSB7CiAgICAgICAgdGhyb3cgJ+aVsOaNruiOt+WPluWksei0pSc7CiAgICB9Cn0KCmZ1bmN0aW9uIGJvb2tfcGFyc2UodXJsLCBodG1sKSB7CiAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UoaHRtbCk7CiAgICBsZXQgaG9zdCA9IGdldEhvc3QoKTsKICAgIGlmIChkYXRhICYmIGRhdGEuY29kZSA9PSAyMDApIHsKICAgICAgICB2YXIgc2VjdGlvbkxpbmsgPSBbXTsKICAgICAgICBmb3IgKHZhciBwIGluIGRhdGEucmVzdWx0cy5ncm91cHMpIHsKICAgICAgICAgICAgc2VjdGlvbkxpbmsucHVzaChgaHR0cHM6Ly9hcGkuJHtob3N0fS9hcGkvdjMvY29taWMvYCArIGRhdGEucmVzdWx0cy5jb21pYy5wYXRoX3dvcmQgKyAnL2dyb3VwLycgKyBkYXRhLnJlc3VsdHMuZ3JvdXBzW3BdLnBhdGhfd29yZCArICcvY2hhcHRlcnM/bGltaXQ9NTAwJm9mZnNldD0wJyk7CiAgICAgICAgfQogICAgICAgIGNvbnNvbGUubG9nKHNlY3Rpb25MaW5rKTsKICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICB0aXRsZTogZGF0YS5yZXN1bHRzLmNvbWljLm5hbWUsCiAgICAgICAgICAgIGNvdmVyOiBkYXRhLnJlc3VsdHMuY29taWMuY292ZXIsCiAgICAgICAgICAgIGluZm86IGRhdGEucmVzdWx0cy5jb21pYy5icmllZiwKICAgICAgICAgICAgdXBkYXRlVGltZTogZGF0YS5yZXN1bHRzLmNvbWljLmRhdGV0aW1lX3VwZGF0ZWQsCiAgICAgICAgICAgIHNlY3Rpb25MaW5rOiBzZWN0aW9uTGluaywKICAgICAgICAgICAgaXNTZWN0aW9uQXNjOiAxCiAgICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICAgIHRocm93ICfmlbDmja7ojrflj5blpLHotKUnOwogICAgfQp9CgpmdW5jdGlvbiBzZWN0aW9uc19wYXJzZSh1cmwsIGh0bWwpIHsKICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShodG1sKTsKICAgIGxldCBob3N0ID0gZ2V0SG9zdCgpOwogICAgaWYgKGRhdGEgJiYgZGF0YS5jb2RlID09IDIwMCkgewogICAgICAgIHZhciBncm91cE5hbWUgPSAn55uu5b2VJzsKICAgICAgICB2YXIgbGlzdCA9IGRhdGEucmVzdWx0cy5saXN0Lm1hcCgoY2hhcHRlcikgPT4gewogICAgICAgICAgICBncm91cE5hbWUgPSBjaGFwdGVyLmdyb3VwX3BhdGhfd29yZDsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHRpdGxlOiBjaGFwdGVyLm5hbWUsCiAgICAgICAgICAgICAgICBsaW5rOiBgaHR0cHM6Ly9hcGkuJHtob3N0fS9hcGkvdjMvY29taWMvYCArIGNoYXB0ZXIuY29taWNfcGF0aF93b3JkICsgJy9jaGFwdGVyLycgKyBjaGFwdGVyLnV1aWQgKyAnP3BsYXRmb3JtPTEmX3VwZGF0ZT10cnVlJwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgdmFyIG1hcCA9IG5ldyBNYXAoKTsKICAgICAgICBtYXBbZ3JvdXBOYW1lXSA9IGxpc3Q7CiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG1hcCk7CiAgICB9IGVsc2UgewogICAgICAgIHRocm93ICfmlbDmja7ojrflj5blpLHotKUnOwogICAgfQp9CgpmdW5jdGlvbiBkZXRhaWxzX3BhcnNlKHVybCwgaHRtbCkgewogICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKGh0bWwpOwogICAgaWYgKGRhdGEgJiYgZGF0YS5jb2RlID09IDIwMCkgewogICAgICAgIHZhciBsaXN0ID0gZGF0YS5yZXN1bHRzLmNoYXB0ZXIuY29udGVudHMubWFwKChjb250ZW50KSA9PiB7CiAgICAgICAgICAgIHJldHVybiBjb250ZW50LnVybAogICAgICAgIH0pOwogICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7IGltYWdlczogbGlzdCB9KTsKICAgIH0gZWxzZSB7CiAgICAgICAgdGhyb3cgJ+aVsOaNruiOt+WPluWksei0pSc7CiAgICB9Cn0="},"home":{"title":"首页","buildUrl":"home_build_url","method":"GET","parse":"home_parse","startPage":0,"addPage":1,"imageMode":2,"requestType":0},"tag":{"title":"分类","method":"GET","parse":"tag_parse","startPage":0,"addPage":1,"buildUrl":"tag_build_url","items":[{"group":"分类","title":"最近更新"},{"group":"分类","title":"爱情"},{"group":"分类","title":"欢乐向"},{"group":"分类","title":"冒险"},{"group":"分类","title":"东方"},{"group":"分类","title":"百合"},{"group":"分类","title":"校园"},{"group":"分类","title":"奇幻"},{"group":"分类","title":"科幻"},{"group":"分类","title":"生活"},{"group":"分类","title":"神鬼"}]},"search":{"title":"搜索","buildUrl":"search_build_url","method":"GET","parse":"search_parse","startPage":0,"addPage":1},"book":{"title":"详情","method":"GET","parse":"book_parse","cacheAge":"1h","adds":[{"title":"sections","method":"get","parse":"sections_parse","cacheAge":"1h"}]},"details":{"title":"内容","method":"GET","parse":"details_parse","cacheAge":"1h"}}