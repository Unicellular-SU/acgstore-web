{"sid":"247884c3-5a90-426b-a43f-6bb240dd1629","name":"musicenc","logo":"","info":"音乐搜索，在线播放","baseUrl":"https://www.musicenc.com/","type":8,"grade":1,"needProxy":false,"encode":"UTF-8","userAgent":"","version":"1.0.3","openSource":true,"engine":25,"imgMode":0,"author":{"name":"静静","info":"我是静静","contact":"群里联系"},"script":{"requires":[{"lib":"cheerio"},{"lib":"base64"}],"code":"CgpmdW5jdGlvbiBzZWFyY2hfcGFyc2UodXJsLCBodG1sLCBoZWFkZXJzKSB7CiAgICB2YXIgbGlzdCA9IFtdOwogICAgbGV0ICQgPSBjaGVlcmlvLmxvYWQoaHRtbCk7CiAgICAkKCcubGlzdCA+IGxpJykuZWFjaChmdW5jdGlvbiAoaSwgZSkgewogICAgICAgIGxpc3QucHVzaCh7CiAgICAgICAgICAgIHRpdGxlOiAkKHRoaXMpLmNoaWxkcmVuKCdhJykudGV4dCgpLAogICAgICAgICAgICBpbmZvOiAkKHRoaXMpLmNoaWxkcmVuKCdzcGFuJykudGV4dCgpLAogICAgICAgICAgICBsaW5rOiBgaHR0cHM6Ly93d3cubXVzaWNlbmMuY29tL3NlYXJjaHIvP3Rva2VuPSR7JCh0aGlzKS5jaGlsZHJlbignYScpLmF0dHIoJ2RhdGVzJyl9YCwKICAgICAgICB9KQogICAgfSk7CiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkobGlzdCk7Cn0KCmFzeW5jIGZ1bmN0aW9uIGRldGFpbHNfcGFyc2UodXJsLCBodG1sLCBoZWFkZXJzKSB7CiAgICBsZXQgJCA9IGNoZWVyaW8ubG9hZChodG1sKTsKICAgIHZhciBsaW5rID0gJCgnLmRvd25idXR0ID4gYScpLmF0dHIoJ2hyZWYnKTsKCiAgICBpZiAobGluay5zdGFydHNXaXRoKCdodHRwJykpIHsKICAgICAgICBsaW5rID0gYXdhaXQgZihsaW5rKTsKICAgIH0gZWxzZSB7CiAgICAgICAgbGluayA9IEJhc2U2NC5kZWNvZGUobGluay5tYXRjaCgvdHBzXCgnKC4qPyknXCkvaSlbMV0pOwogICAgfQoKCiAgICB2YXIgc2NyaXB0ID0gJCgnc2NyaXB0JykuZmlsdGVyKGZ1bmN0aW9uIChpLCBlKSB7CiAgICAgICAgcmV0dXJuICQoZSkudGV4dCgpLnRyaW0oKS5zdGFydHNXaXRoKCd2YXIgaW1ncycpOwogICAgfSk7CiAgICBjb25zb2xlLmxvZyhzY3JpcHQudGV4dCgpKTsKICAgIGV2YWwoc2NyaXB0LnRleHQoKSk7CgogICAgbGV0IGxyY1VybCA9IEJhc2U2NC5kZWNvZGUobHJjKSArIGxyICsgIiZ0PWxyYyZxPSIgKyBkb210aXRsZTsKCiAgICBsZXQgaGVhZGVyID0gSlNPTi5wYXJzZShoZWFkZXJzKTsKICAgIAogICAgbGV0IHJlc3AgPSBhd2FpdCBmZXRjaChscmNVcmwsIHsKICAgICAgICAiaGVhZGVycyI6IGhlYWRlci5yZXF1ZXN0LAogICAgICAgICJtZXRob2QiOiAiR0VUIgogICAgfSk7CiAgICBsZXQgbHJjU3RyID0gYXdhaXQgcmVzcC50ZXh0KCk7CgogICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHsKICAgICAgICBtaW1lOiAnYXVkaW8vKicsCiAgICAgICAgbGluazogbGluaywKICAgICAgICBjb3ZlcjogJ2h0dHBzOi8vYmtpbWcuY2RuLmJjZWJvcy5jb20vcGljLzcyZjA4MjAyNWFhZmE0MGY0YmZiM2U0OWI4MmQxNDRmNzhmMGY3MzZiMzQ0JywKICAgICAgICBhcnRpc3Q6ICQoJy50YWdsaXN0ID4gYScpLmZpcnN0KCkudGV4dCgpLAogICAgICAgIGxyYzogbHJjU3RyLnJlcGxhY2UoL1xuL2csICdcXG4nKSwKICAgIH0pOwoKfQoKYXN5bmMgZnVuY3Rpb24gZihsaW5rKSB7CiAgICBsZXQgcmVzcCA9IGF3YWl0IGZldGNoKGxpbmssIHsKICAgICAgICAiaGVhZGVycyI6IHsgInJlZmVyZXIiOiBsaW5rIH0sCiAgICAgICAgIm1ldGhvZCI6ICJHRVQiCiAgICB9KTsKICAgIGxldCBodG1sID0gYXdhaXQgcmVzcC50ZXh0KCk7CiAgICBsZXQgJCA9IGNoZWVyaW8ubG9hZChodG1sKTsKICAgIHZhciBzY3JpcHQgPSAkKCdzY3JpcHQnKS5maWx0ZXIoZnVuY3Rpb24gKGksIGUpIHsKICAgICAgICByZXR1cm4gJChlKS50ZXh0KCkudHJpbSgpLnN0YXJ0c1dpdGgoJ3ZhciBpbWdzJyk7CiAgICB9KTsKCiAgICBldmFsKHNjcmlwdC50ZXh0KCkpOwogICAgbGV0IG1wM0xpbmsgPSBCYXNlNjQuZGVjb2RlKHBpY3MpOwoKICAgIGxldCBtcDNSZXNwID0gYXdhaXQgZmV0Y2gobXAzTGluaywgewogICAgICAgICJoZWFkZXJzIjogeyAicmVmZXJlciI6IGxpbmsgfSwKICAgICAgICAibWV0aG9kIjogIkdFVCIKICAgIH0pOwogICAgcmV0dXJuIG1wM1Jlc3AudGV4dCgpOwp9"},"home":{"title":"首页","url":"/?search=%E5%91%A8%E6%9D%B0%E4%BC%A6","method":"GET","parse":"search_parse","cacheAge":"8h"},"search":{"title":"搜索","url":"/?search=@key","parse":"search_parse","cacheAge":"8h"},"details":{"title":"内容","parse":"details_parse","cacheAge":"1h"}}