{
    "sid": "58183ea9-5407-4808-b8ed-c1c497d119fd",
    "name": "低端影视",
    "logo": "",
    "info": "网友推荐，低端影视 - 超清在线视频站",
    "baseUrl": "https://ddys.tv/",
    "expr": "ddys\\.tv",
    "type": 2,
    "grade": 8,
    "needProxy": 0,
    "encode": "utf-8",
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36",
    "style": 1,
    "version": "1.0.0",
    "openSource": true,
    "imgMode": 2,
    "engine": 22,
    "author": {
        "name": "静静",
        "info": "请打开源网页，支持低端影视"
    },
    "script": {
        "requires": [
            {
                "lib": "cheerio"
            }
        ],
        "code": "ZnVuY3Rpb24gaG9tZV9wYXJzZSh1cmwsIGh0bWwsIGhlYWRlcnMpIHsKICAgIHZhciBsaXN0ID0gW107CiAgICBsZXQgJCA9IGNoZWVyaW8ubG9hZChodG1sKTsKICAgICQoJy5wb3N0LWJveC1saXN0JykuY2hpbGRyZW4oJ2FydGljbGUnKS5lYWNoKGZ1bmN0aW9uIChpLCBlKSB7CiAgICAgICAgdmFyIHNlbGYgPSAkKHRoaXMpOwogICAgICAgIGxpc3QucHVzaCh7CiAgICAgICAgICAgIHRpdGxlOiBzZWxmLmZpbmQoJy5wb3N0LWJveC10aXRsZScpLnRleHQoKS5yZXBsYWNlKC8gXCguKj9cKS8sICcnKSwKICAgICAgICAgICAgbGluazogc2VsZi5maW5kKCcucG9zdC1ib3gtdGl0bGUgPiBhJykuYXR0cignaHJlZicpLAogICAgICAgICAgICBjb3Zlcjogc2VsZi5maW5kKCcucG9zdC1ib3gtaW1hZ2UnKS5hdHRyKCdzdHlsZScpLm1hdGNoKC9bYS16QS16XSs6XC9cL1teXHNdKlwuanBnfHBuZ3x3ZWJwLylbMF0sCiAgICAgICAgICAgIGluZm86IHNlbGYuZmluZCgnLnBvc3QtYm94LW1ldGEnKS5maXJzdCgpLnRleHQoKS50cmltKCkgKyAnXG4nICsgc2VsZi5maW5kKCcucG9zdC1ib3gtdGV4dCA+IHAnKS5maXJzdCgpLnRleHQoKS50cmltKCksCiAgICAgICAgfSk7CiAgICB9KTsKICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShsaXN0KTsKfQoKZnVuY3Rpb24gc2VhcmNoX3BhcnNlKHVybCwgaHRtbCwgaGVhZGVycykgewogICAgdmFyIGxpc3QgPSBbXTsKICAgIGxldCAkID0gY2hlZXJpby5sb2FkKGh0bWwpOwogICAgJCgnI21haW4nKS5jaGlsZHJlbignYXJ0aWNsZScpLmVhY2goZnVuY3Rpb24gKGksIGUpIHsKICAgICAgICB2YXIgc2VsZiA9ICQodGhpcyk7CiAgICAgICAgbGlzdC5wdXNoKHsKICAgICAgICAgICAgdGl0bGU6IHNlbGYuZmluZCgnLnBvc3QtdGl0bGUnKS50ZXh0KCkucmVwbGFjZSgvIFwoLio/XCkvLCAnJyksCiAgICAgICAgICAgIGxpbms6IHNlbGYuZmluZCgnLnBvc3QtdGl0bGUgPiBhJykuYXR0cignaHJlZicpLAogICAgICAgICAgICBpbmZvOiBzZWxmLmZpbmQoJy5lbnRyeS1jb250ZW50JykudGV4dCgpICsnXG4nKyBzZWxmLmZpbmQoJy5jYXQtbGlua3MnKS50ZXh0KCksCiAgICAgICAgICAgIHVwZGF0ZVRpbWU6IHNlbGYuZmluZCgnLm1ldGFfZGF0ZSA+IHRpbWUnKS5maXJzdCgpLnRleHQoKQogICAgICAgIH0pOwogICAgfSk7CiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkobGlzdCk7Cn0KCgpmdW5jdGlvbiBib29rX3BhcnNlKHVybCwgaHRtbCwgaGVhZGVycykgewogICAgdmFyICQgPSBjaGVlcmlvLmxvYWQoaHRtbCk7CiAgICB2YXIgc2NyaXB0ID0gJCgnLndwLXBsYXlsaXN0LXNjcmlwdCcpLnRleHQoKTsKCiAgICBsZXQgcGxheV9kYXRhID0gSlNPTi5wYXJzZShzY3JpcHQpOwogICAgdmFyIGJvb2sgPSB7CiAgICAgICAgY292ZXI6ICQoJ2Rpdi5wb3N0ID4gaW1nJykuYXR0cignc3JjJyksCiAgICAgICAgaW5mbzogJCgnLmFic3RyYWN0JykudGV4dCgpLAogICAgICAgIHNlY3Rpb25MaW5rOiBbXSwKICAgIH07CiAgICB2YXIgbWFwID0gbmV3IE1hcCgpOwogICAgdmFyIHNlY3Rpb25zID0gW107CiAgICBwbGF5X2RhdGEudHJhY2tzLmZvckVhY2goZWxlbWVudCA9PiB7CiAgICAgICAgc2VjdGlvbnMucHVzaCh7CiAgICAgICAgICAgIGxpbms6IGBodHRwczovL2RkeXMudHYvZ2V0dmRkci92aWRlbz9pZD0ke2VsZW1lbnQuc3JjMX0mZGltPTEwODBQJnR5cGU9bWl4YCwKICAgICAgICAgICAgdGl0bGU6IGVsZW1lbnQuY2FwdGlvbiwKICAgICAgICB9KQogICAgfSk7CiAgICBpZiAoJCgnLnBhZ2UtbGlua3MnKSAhPSBudWxsKSB7CiAgICAgICAgJCgnLnBhZ2UtbGlua3MnKS5jaGlsZHJlbignYScpLmVhY2goZnVuY3Rpb24gKGksIGUpIHsKICAgICAgICAgICAgYm9vay5zZWN0aW9uTGluay5wdXNoKCQodGhpcykuYXR0cignaHJlZicpKTsKICAgICAgICB9KTsKICAgIH0KICAgIG1hcFsn56ysMeWtoyddID0gc2VjdGlvbnM7CiAgICBib29rLnNlY3Rpb25zID0gbWFwOwogICAgCiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoYm9vayk7Cn0KCmZ1bmN0aW9uIHNlY3Rpb25zX3BhcnNlKHVybCwgaHRtbCwgaGVhZGVycyxsYXN0UmVzdWx0KXsKICAgIHZhciAkID0gY2hlZXJpby5sb2FkKGh0bWwpOwogICAgdmFyIHNjcmlwdCA9ICQoJy53cC1wbGF5bGlzdC1zY3JpcHQnKS50ZXh0KCk7CiAgICBsZXQgcGxheV9kYXRhID0gSlNPTi5wYXJzZShzY3JpcHQpOwoKICAgIHZhciBzZWN0aW9ucyA9IFtdOwogICAgcGxheV9kYXRhLnRyYWNrcy5mb3JFYWNoKGVsZW1lbnQgPT4gewogICAgICAgIHNlY3Rpb25zLnB1c2goewogICAgICAgICAgICBsaW5rOiBgaHR0cHM6Ly9kZHlzLnR2L2dldHZkZHIvdmlkZW8/aWQ9JHtlbGVtZW50LnNyYzF9JmRpbT0xMDgwUCZ0eXBlPW1peGAsCiAgICAgICAgICAgIHRpdGxlOiBlbGVtZW50LmNhcHRpb24sCiAgICAgICAgfSkKICAgIH0pOwogICAgdmFyIG1hcCA9IG5ldyBNYXAoKTsKICAgIGxldCBncm91cE5hbWUgPSB1cmwubWF0Y2goL1wvKFxkKylcLy9pKVsxXQogICAgbWFwW2DnrKwke2dyb3VwTmFtZX3lraNgXSA9IHNlY3Rpb25zOwogICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG1hcCk7Cn0KCmZ1bmN0aW9uIGRldGFpbHNfcGFyc2UodXJsLCBodG1sLCBoZWFkZXJzKSB7CiAgICBsZXQgZGF0YSA9IEpTT04ucGFyc2UoaHRtbCk7CiAgICBpZiAoZGF0YS51cmwgPT0gbnVsbCkgewogICAgICAgIHJldHVybiAiRVJST1I65rKh5pyJ6I635Y+W5Yiw5pWw5o2uIjsKICAgIH0KICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7IG1pbWU6ICJ2aWRlby8qIiwgbGluazogZGF0YS51cmwgfSk7Cn0="
    },
    "home": {
        "title": "最新",
        "url": "/page/@page/",
        "method": "GET",
        "parse": "home_parse",
        "cacheAge": "1h",
        "addPage": 1,
        "startPage": 1
    },
    "search": {
        "title": "搜索",
        "url": "/?s=@key&post_type=post",
        "method": "GET",
        "parse": "search_parse",
        "cacheAge": "1h"
    },
    "book": {
        "title": "详情",
        "method": "GET",
        "parse": "book_parse",
        "cacheAge": "1h",
        "adds": [
            {
                "title": "sections",
                "method": "GET",
                "parse": "sections_parse",
                "cacheAge": "1h"
            }
        ]
    },
    "details": {
        "title": "内容",
        "method": "GET",
        "referer": "https://ddys.tv/",
        "parse": "details_parse",
        "cacheAge": "1h"
    }
}